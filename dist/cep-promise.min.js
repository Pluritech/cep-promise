!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("isomorphic-unfetch")):"function"==typeof define&&define.amd?define(["isomorphic-unfetch"],r):e.cep=r(e.fetch)}(this,function(e){"use strict";function r(r){var a="https://viacep.com.br/ws/"+r+"/json/",s={method:"GET",mode:"cors",headers:{"content-type":"application/json;charset=utf-8"}};return e(a,s).then(o).then(t).then(n).catch(i)}function o(e){if(e.ok)return e.json();throw Error("Erro ao se conectar com o serviço ViaCEP.")}function t(e){if(e.erro===!0)throw new Error("CEP não encontrado na base do ViaCEP.");return e}function n(e){return{cep:e.cep.replace("-",""),state:e.uf,city:e.localidade,neighborhood:e.bairro,street:e.logradouro}}function i(e){var r=new C({message:e.message,service:"viacep"});throw"FetchError"===e.name&&(r.message="Erro ao se conectar com o serviço ViaCEP."),r}function a(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=o+"https://api.postmon.com.br/v1/cep/"+r,n={method:"GET",mode:"cors"};return e(t,n).then(s).then(c).then(u).catch(f)}function s(e){if(e.ok)return e.json();throw Error("Erro ao se conectar com o serviço do Postmon.")}function c(e){if(!Object.keys(e).length)throw new Error("CEP não encontrado na base do Postmon.");return e}function u(e){return{cep:e.cep,state:e.estado,city:e.cidade,neighborhood:e.bairro,street:e.logradouro}}function f(e){var r=new C({message:e.message,service:"postmon"});throw"FetchError"===e.name&&(r.message="Erro ao se conectar com o serviço do Postmon."),r}function h(e){return Promise.resolve(e).then(m).then(p).then(d).then(l).then(y).catch(v).catch(g)}function m(e){var r="undefined"==typeof e?"undefined":b(e);if("number"===r||"string"===r)return e;throw new j({message:"Erro ao inicializar a instância do CepPromise.",type:"validation_error",errors:[{message:"Você deve chamar o construtor utilizando uma String ou um Number.",service:"cep_validation"}]})}function p(e){return e.toString().replace(/\D+/g,"")}function l(e){return"0".repeat(x-e.length)+e}function d(e){if(e.length<=x)return e;throw new j({message:"CEP deve conter exatamente "+x+" caracteres.",type:"validation_error",errors:[{message:"CEP informado possui mais do que "+x+" caracteres.",service:"cep_validation"}]})}function y(e){return Promise.any([S(e),O(e)])}function v(e){if(void 0!==e.length)throw new j({message:"Todos os serviços de CEP retornaram erro.",type:"service_error",errors:e});throw e}function g(e){var r=e.message,o=e.type,t=e.errors;throw new j({message:r,type:o,errors:t})}e=e&&e.hasOwnProperty("default")?e.default:e;var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")},E=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)},P=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r},_=function(e){if(Array.isArray(e)){for(var r=0,o=Array(e.length);r<e.length;r++)o[r]=e[r];return o}return Array.from(e)},j=function(e){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.message,t=e.type,n=e.errors;w(this,r);var i=P(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return i.name="CepPromiseError",i.message=o,i.type=t,i.errors=n,i}return E(r,e),r}(Error),C=function(e){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.message,t=e.service;w(this,r);var n=P(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return n.name="ServiceError",n.message=o,n.service=t,n}return E(r,e),r}(Error),O=r,S=a,T=function(e){return new Promise(function(r,o){return Promise.resolve(e).then(o,r)})};Promise.any=function(e){return T(Promise.all([].concat(_(e)).map(T)))};var x=8;return h});